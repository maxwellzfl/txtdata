#!/usr/bin/env python3# coding=utf-8import requestspost_url = "http://43.241.223.121/post.php"class ServerError(Exception):    def __init__(self, value):        self.value = value    def __str__(self):        return repr(self.value)def split_word(words):    words = words.split()    words_list = []    for i in words:        if len(i) == 0:            continue        words_list.append(i.split(":"))    return words_list# def split_word2(words, probability=0):#     """#     :param words: 分词结果的字典, 其中key为分词,value为概率.#     :param probability: 最小分词概率#     :return: 概率从大到小的分词列表.#     """#     # 分词跟相关概率保存到字典中.#     d = dict()##     for i in words:#         m = i.split(':')#         d[m[0].decode('utf8')] = float(m[1])##     m = sorted(d.iteritems(), key=lambda k: k[1], reverse=True)#     words_list = []#     for i in range(len(m)):#         if m[i][1] >= probability:#             words_list.append(m[i][0])#     return words_listdef pullword(source="", threshold=0, debug=1):    payload = {"source": source.encode("utf8"), "param1": threshold, "param2": debug}    pw = requests.post(post_url, data=payload)    print(pw.url)    if pw.status_code != 200:        raise ServerError("server return %s" % pw.status_code)    print(pw.text)    return split_word(pw.text)# 结果测试word_list = pullword(u"拜访目的：商家有拒单过程：商家之前有拒单，过去找商家培训商家同时培训前台拒单问题，"                     u"商家表示和已经明白拒单的严重性（和商家说拒单美团排名会下降），会严格要求前台。"                     u"结果：成功指导商家对于拒单的重视性"                     ,0,1)print(word_list)